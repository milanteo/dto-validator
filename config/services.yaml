services:

  _defaults:
    autowire: true      # Automatically injects dependencies in your services.
    autoconfigure: true # Automatically registers your services as commands, event subscribers, etc.

  Teoalboo\DtoValidator\Resolver\: 
    public: true
    resource: '../src/Resolver/*Resolver.php'

  Teoalboo\DtoValidator\Service\DtoValidatorService:
    arguments: 
      $container: '@service_container'
      $validator: '@validator'

  Teoalboo\DtoValidator\Validator\NotExistValidator:
    arguments: 
      $em: '@doctrine.orm.entity_manager'

  Teoalboo\DtoValidator\EventSubscriber\DtoEventsSubscriber:
    arguments: 
      $stack:      '@request_stack'
      $translator: '@translator'
      $validator:  'Teoalboo\DtoValidator\Service\DtoValidatorService'
    tags: ['kernel.event_subscriber']
